---
description: 課題管理に関するルールを定義します
globs: ["**/*"]
---

# 課題管理ルール

## 1. 目的

本ルールは以下の目的のために定義されています：

1. 課題の可視化
   - 問題点の明確化
   - 改善点の特定
   - 対応状況の追跡

2. 優先順位の管理
   - 重要度の評価
   - リソースの最適配分
   - スケジュール管理

3. コミュニケーションの効率化
   - 課題の共有
   - 解決策の検討
   - 進捗の報告

## 課題管理の基準

### 課題作成の基準

以下の場合に限り課題を作成すること：

1. 指示があった場合
   - 明示的に課題作成の指示があった場合
   - 指示内容に従って課題を作成

2. PR中に指示があった場合
   - PRの趣旨と大きく異なる修正が必要な場合
   - 現在のPRとは別に対応すべき問題が見つかった場合

※ 上記以外の場合は、原則として課題を作成せず、現在の作業の中で対応するか、
  PRのdescriptionに記載すること。

### 課題の優先順位

1. 指示による課題
   - 指示内容に従って優先順位を設定
   - 指示がない場合は確認を取る

2. PR中の派生課題
   - 現在のPRへの影響度に応じて優先順位を設定
   - ブロッカーとなる場合は優先度を「high」に設定
   - それ以外は「medium」または「low」に設定

### 課題の作成手順

1. 課題作成前の確認
   - 類似の課題が存在しないか確認
   - 関連するPRやコミットを確認
   - 影響範囲を評価

2. 課題本文の作成
   ```markdown
   ## 概要
   
   問題や提案の概要を簡潔に記載
   
   ## 詳細
   
   1. 具体的な問題点や改善点
      - 原因や背景
      - 影響範囲
      - 再現手順（バグの場合）
   
   2. 対応案
      - 具体的な解決方法
      - 代替案がある場合はそれも記載
      - 予想される副作用
   
   ## その他
   - 関連する課題やPR
   - 参考情報
   - 注意事項
   ```

3. 優先度の設定
   - 優先度を設定（high, medium, low）
   - 必要に応じてマイルストーンを設定

### 課題管理プロセス

1. 作業開始時
   - 課題に対応するブランチを作成
   - ブランチ名は`<type>/<issue-number>-<description>`の形式
   - 課題にブランチ名をコメント

2. 作業中
   - 進捗状況を定期的にコメント
   - ブロッカーがある場合は早期に報告
   - 関連する新しい問題を発見した場合は別課題として切り出す

3. 作業完了時
   - PRの作成
   - PRで課題を参照（`Closes #<issue-number>`）
   - 課題のステータスを更新

### 課題更新のタイミング

以下のタイミングで必ず課題を更新すること：

1. 新しい情報や知見が得られた時
   - 原因の特定
   - 解決方法の発見
   - 影響範囲の変更

2. 状況の変化があった時
   - 優先度の変更
   - ブロッカーの発生
   - 依存関係の変更

3. マイルストーンの変更時
   - スケジュールの変更
   - スコープの変更
   - 担当者の変更 